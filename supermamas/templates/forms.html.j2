{% macro input(name, label="", value="", type="text", errors={}, values={}, flags={}) -%}
    {% set invalid = "invalid" if name in errors else "" %}
    {% set value = values[name] if name in values else value  %}
    {% set required = "required" if "required" in flags else "" %}
    <label for="{{ name }}" class="{{ invalid }}">{{ label }}</label>
    <input name="{{ name }}" id="{{ name }}" type="{{ type }}" value="{{ value }}" class="{{ invalid }}" {{ required }}/>
{%- endmacro %}

{% macro date_selector(name, group="dates", value="", values=None) -%}
    {% set value = values[name] if name in values else value %}
    {% set checked = "checked" if value.selected %}
    <div class="container">
        <input name="{{ group }}" id="{{ name }}" type="checkbox" value="{{ name }}" {{ checked }} />
        <label for="{{ name }}">{{ value.label }}</label>
    </div>
{%- endmacro %}

{%- macro submit(value, name="", class="") -%}
    <input type="submit" class="button success {{ class }}" value="{{ value }}" name="{{ name }}" /> 
{%- endmacro %}

{%- macro checkbox(name, is_checked=False, group="") -%}
    {% set checked = "checked" if is_checked %}
    <div class="custom-checkbox">
        <div class="container">
            <input name="{{ group }}" id="{{ name }}" type="checkbox" value="{{ name }}" {{ checked }} />
            <label class="checkmark" for="{{ name }}"></label>
        </div>
    </div>
{%- endmacro %}

{% macro render_field(field) %}
    <div class="form-field">
    {% if "BooleanField" in field.type %}
        <dt class="description">{{ field.description }}</dt>
        <dd>{{ field(**kwargs)|safe }} {{ field.label }}
    {% else %}
        <dt>
            <div>{{ field.label }}</div>
            <div>{{ field.description }}</div>
        </dt>
        <dd>{{ field(**kwargs)|safe }}
    {% endif %}
        {% if field.errors %}
            <ul class=errors>
            {% for error in field.errors %}
            <li>{{ error }}</li>
            {% endfor %}
            </ul>
        {% endif %}
        </dd>
    </div>
{% endmacro %}

{% macro recaptcha() %}
    <div class="g-recaptcha" data-sitekey="{{ 'RECAPTCHA_SITE_KEY' | config }}"></div>
{% endmacro %}